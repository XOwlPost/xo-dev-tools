(function(o,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(o=typeof globalThis<"u"?globalThis:o||self,c(o.XODevTools={}))})(this,function(o){"use strict";function c(){return localStorage.getItem("xo_dev_editor_content")||""}function d(e){localStorage.setItem("xo_dev_editor_content",e)}function u(){return{history:JSON.parse(localStorage.getItem("xo_dev_command_history")||"[]"),historyIndex:-1}}function f(e){localStorage.setItem("xo_dev_command_history",JSON.stringify(e.slice(0,50)))}function m(){localStorage.removeItem("xo_dev_command_history")}async function s(e,n="GET",t=null){const r=`/devtools/config/${e}`,a={method:n,headers:{"Content-Type":"application/json"}};t&&(a.body=JSON.stringify(t));const i=await fetch(r,a);if(!i.ok)throw new Error(`Vault ${n} failed: ${i.status}`);return await i.json()}async function y(e,n,t){await s(e,"POST",{history:n,editor:t})}async function g(e){return await s(e)}const l=window;function p({clearHistory:e,resetEditor:n}){const t={":reset":()=>{e(),n()},":inspectPeers":()=>{l.inspectPeers?l.inspectPeers():console.log("⚠️ inspectPeers() not defined")}};return r=>t[r]?t[r]():!1}function b(e,n){const t=document.createElement("button");return t.innerText=e,t.onclick=n,t}function T(e){const n=document.createElement("button");return n.innerText="🌓 Theme",n.style.cssText="margin: 8px; background: #222; color: #0f0; border: 1px solid #0f0; border-radius: 4px;",n.onclick=()=>{const t=e.dataset.theme!=="light";e.dataset.theme=t?"light":"dark",e.style.background=t?"#f8f8f8":"#111",e.style.color=t?"#111":"#0f0",n.style.color=t?"#111":"#0f0"},n}function h(e,n="⚙️ Dev Tools"){const t=document.createElement("div");return t.innerText=n,Object.assign(t.style,{position:"fixed",top:"10px",right:"10px",zIndex:9999,padding:"6px 10px",background:"#111",color:"#0f0",border:"1px solid #0f0",borderRadius:"6px",fontSize:"13px",cursor:"pointer"}),t.onclick=()=>{e.style.display=e.style.display==="none"?"block":"none"},t}function v(){const e=document.createElement("div");e.style.display="flex";const n=document.createElement("div");n.style.padding="10px";function t(r,a){const i=document.createElement("button");i.innerText=r,Object.assign(i.style,{flex:1,background:"#222",color:"#0f0",border:"1px solid #0f0",borderBottom:"none",cursor:"pointer",padding:"5px"}),i.onclick=()=>{n.innerHTML="",a(n)},e.appendChild(i)}return{tabs:e,content:n,addTab:t}}o.addActionBtn=b,o.clearHistoryState=m,o.createCommandRunner=p,o.createTabPanel=v,o.createThemeToggle=T,o.createToggleButton=h,o.loadEditorContent=c,o.loadHistoryState=u,o.pullFromVault=g,o.pushToVault=y,o.saveEditorContent=d,o.saveHistoryState=f,o.vaultApi=s,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
